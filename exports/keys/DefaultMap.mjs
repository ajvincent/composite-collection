export class DefaultMap extends Map {
    getDefault(key, builder) {
        let value = this.get(key);
        if (!value) {
            value = builder();
            this.set(key, value);
        }
        return value;
    }
}
export class DefaultWeakMap extends WeakMap {
    getDefault(key, builder) {
        let value = this.get(key);
        if (!value) {
            value = builder();
            this.set(key, value);
        }
        return value;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVmYXVsdE1hcC5tanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJEZWZhdWx0TWFwLm10cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLE9BQU8sVUFBaUIsU0FBUSxHQUFTO0lBQzdDLFVBQVUsQ0FBQyxHQUFNLEVBQUUsT0FBZ0I7UUFDakMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsS0FBSyxHQUFHLE9BQU8sRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3RCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sY0FBb0MsU0FBUSxPQUFhO0lBQ3BFLFVBQVUsQ0FBQyxHQUFNLEVBQUUsT0FBZ0I7UUFDakMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsS0FBSyxHQUFHLE9BQU8sRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3RCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRGVmYXVsdE1hcDxLLCBWPiBleHRlbmRzIE1hcDxLLCBWPiB7XG4gIGdldERlZmF1bHQoa2V5OiBLLCBidWlsZGVyOiAoKSA9PiBWKTogViB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5nZXQoa2V5KTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IGJ1aWxkZXIoKTtcbiAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRXZWFrTWFwPEsgZXh0ZW5kcyBvYmplY3QsIFY+IGV4dGVuZHMgV2Vha01hcDxLLCBWPiB7XG4gIGdldERlZmF1bHQoa2V5OiBLLCBidWlsZGVyOiAoKSA9PiBWKTogViB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5nZXQoa2V5KTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IGJ1aWxkZXIoKTtcbiAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbiJdfQ==